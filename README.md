# COMP - Project 1

## Project Structure

### File Structure

#### Main.java

The class containing the main function.

Reads the arguments and sends them to the relevant classes.

Reads the file, starts the parser, analyzer and handles whatever exceptions pop-up

#### javacc/JMMParser.jjt

The JJTree/Javacc parser.

Implements the grammar and throws parsing exceptions.

#### javacc/SimpleNode.java

A replacement for the auto-generated simple node.

Holds custom information (only 3 new variables).

#### src/Analyzer.java

The class that handles all of the Semantic analysis and generates the structures needed for Jasmin.

### Logical Structure

The Syntax tree is transformed into a High-Level Intermediate Representation.

The HLIR used is a tree where each node is a scope. Each node except the file root, is a Symbol in it's parents' table.

Each node in the tree has:
    A table of the Symbols that belong to its scope.

A Symbol is a variable, class or method, and contains the relevant information as well as a signature.

The nodes that represent classes (only 1 for j--), also has a tree of Structures/Expressions.

The tree of structures contains the control functions as well as expressions and statements.



## Project requirements

For this project, you need to [install Gradle](https://gradle.org/install/)

## Project setup

Copy your ``.jjt`` file to the ``javacc`` folder. If you change any of the classes generated by ``jjtree`` or ``javacc``, you also need to copy them to the ``javacc`` folder.

Copy your source files to the ``src`` folder, and your JUnit test files to the ``test`` folder.

## Compile

To compile the program, run ``gradle build``. This will compile your classes to ``classes/main/java`` and copy the JAR file to the root directory. The JAR file will have the same name as the repository folder.

### Run

To run you have two options: Run the ``.class`` files or run the JAR.

### Run ``.class``

To run the ``.class`` files, do the following:

```cmd
java -cp "./build/classes/java/main/" <class_name> <arguments>
```

Where ``<class_name>`` is the name of the class you want to run and ``<arguments>`` are the arguments to be passed to ``main()``.

### Run ``.jar``

To run the JAR, do the following command:

```cmd
java -jar <jar filename> <arguments>
```

Where ``<jar filename>`` is the name of the JAR file that has been copied to the root folder, and ``<arguments>`` are the arguments to be passed to ``main()``.

## Test

To test the program, run ``gradle test``. This will execute the build, and run the JUnit tests in the ``test`` folder. If you want to see output printed during the tests, use the flag ``-i`` (i.e., ``gradle test -i``).